# 网络堆栈技术现状分析

此部分内容主要对当前的网络堆栈技术现状做分析。 目标是为推断结论和libp2p为什么会有需求，以及libp2p的架构原型提供理论基础。

## 2.1 客户端——服务端服务模型
客户端——服务端模型表明在通道的两端有不同的角色，他们支持不同的服务并且有不同的容量。 换句话说，他们具有不同的协议。

基于以下几个原因，构建客户端——服务端应用一直是自然的趋势:
- 数据中心的带宽远大于客户端直接连接的带宽。
- 由于高效利用以及集群化管理，数据中心资源更便宜。
- 开发者和系统管理员可以对系统进行很好的控制。
- 减少了待处理异构系统的数量。
- 像NAT这样的系统使得客户端机器很难相互找到并彼此交流，迫使开发人员执行非常聪明的黑客来遍历这些障碍。
- 开始设计协议时就假设开发人员将从一开始就创建客户端——服务器应用程序。

我们甚至学会了如何将分布式系统的所有复杂性隐藏到互联网网关后面。使用旨在执行点对点操作的协议，比如HTTP，使应用程序看起来不透明并了解每个请求进行的级联服务调用。

libp2p 提供了拨号——监听交互的方式，来自客户端——服务端的侦听器，其中不隐含哪些实体，拨号器或侦听器具有哪些功能或能够执行哪些操作。 今天在两个应用之间建立连接是一个需要解决的多层问题。这些联系不应该有目的的偏见，而应该支持其他几种协议在已建立的连接之上工作。 在客户端——服务端模型中，在没有来自客户端的先前请求的情况下发送数据的服务器被称为推送模型。这通常会增加复杂性。 相比之下，在拨号器—侦听器模型中，两个实体都可以独立执行请求。

## 2.2 按照解决方案对目前的网络协议栈进行分类
### 2.2.1 建立物理连接
- Ethernet
- Wi-Fi
- Bluetooth
- USB

### 2.2.2 机器地址
- IPv4
- IPv6
- 隐藏地址 像SDO

### 2.2.3 发现其他节点的服务
- ARP
- DHCP
- DNS
- Onion

### 2.2.4 通过网络路由消息
- RIP
- OSPF
- BGP
- PPP
- Tor
- I2P
- cjdns

### 2.2.5 传输
- TCP
- UDP
- UDT
- QUIC
- WebRTC data channe

### 2.2.6
- RMI
- Remoting
- RPC
- HTTP


## 当前的缺点
虽然我们目前有一整套可用于我们服务的协议进行通讯，解决方案的丰富性和多样性产生了自己的问题。目前应用程序很难通过多种传输方式提供支持和可用。


